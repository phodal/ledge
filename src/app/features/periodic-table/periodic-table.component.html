<div class="periodic-container">

    <div class="category-selector">
        <app-atom-category *ngFor="let category of categories"
                           class="category"
                           [type]="category.type"
                           [selected]="selectCategory === category.type"
                           [symbol]="category.displayName"
                           (enter)="enterPhase($event)"></app-atom-category>
    </div>

    <div class="periodic-grid">
        <app-atom-details
                class="atom-details"
                [class.show]="currentAtom !== null"
                [data]="currentAtom"
        ></app-atom-details>

        <ng-container *ngIf="(atoms$ | async) as atoms">
            <app-atom
                    *ngFor="let atom of atoms"
                    class="periodic-atom-{{ atom.number }}"
                    [data]="atom"
                    [selectedCategory]="selectCategory"
                    [metalSelected]="metalClass"
                    (hoverAtom)="showAtomDetails($event)"
                    (click)="open(atom.name)"
            ></app-atom>
        </ng-container>
        <app-atom class="description" [data]="description"></app-atom>
        <app-atom class="periodic-atom-57-71 placeholder-atom" [data]="lantAtomGroup"></app-atom>
        <app-atom class="periodic-atom-89-103 placeholder-atom" [data]="actinideAtomGroup"></app-atom>
    </div>

    <app-wiki *ngIf="wikiAtomName" [atomName]="wikiAtomName" (closeModal)="wikiAtomName = ''"></app-wiki>
</div>
